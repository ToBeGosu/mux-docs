<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" href="images/favicon.ico?v=2">
    <link href="https://static.mux.com/fonts/fonts.css" rel="stylesheet">
    <title>Mux API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;video-element&quot;,&quot;videojs&quot;,&quot;objective_c&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Mux Logo" class="nav-logo" />
      <div style="color:#fff; text-align: center;">DOCUMENTATION</div>

        <div class="lang-selector">
              <a href="#" data-language-name="video-element">Video Element</a>
              <a href="#" data-language-name="videojs">Video.js</a>
              <a href="#" data-language-name="objective_c">Objective-C</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://mux.com/sales-contact'>Sign Up for Mux</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="sdk-integration">SDK Integration</h1>

<p>Mux is still in early development. At this time we support <strong>iOS</strong>, <strong>tvOS</strong> and two browser-based video players: <strong>Video.js</strong> and the bare <strong>HTML5 video element</strong>. More players and platforms as well as native SDKs for Android and OTT platforms are coming soon.</p>

<p>Pick which SDK you want to use from the tabs on the right (or in the nav on mobile).</p>

<h2 id="including-the-sdk">Including the SDK</h2>
<pre class="highlight video-element--html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//src.litix.io/core/2/mux.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p class="lang-specific video-element">
  Include the Mux JavaScript SDK on every page of your site/app that includes video. Use the Mux-hosted version of the script to receive automatic updates (the API will not change within major versions).
</p>
<pre class="highlight videojs--html"><code><span class="c">&lt;!-- Include videojs-mux after Video.js --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"path/to/video.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- Include any ad-specific files here --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//src.litix.io/videojs/2/videojs-mux.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p class="lang-specific videojs">
  Include the videojs-mux plugin after Video.js in the page (or wherever your other Video.js plugins are loaded). If you utilize any ad integrations with Video.js, include the necessary ad integration JavaScript files before the videojs-mux plugin.
</p>
<pre class="highlight objective_c"><code><span class="cp"># git clone https://github.com/muxinc/stats-sdk-objc.git
</span>
<span class="c1">// for iOS
</span><span class="k">@import</span> <span class="n">MUXSDKStats</span><span class="p">;</span>

<span class="c1">// for tvOS
</span><span class="k">@import</span> <span class="n">MUXSDKStatsTv</span><span class="p">;</span>
</code></pre>

<p class="lang-specific objective_c">
  Include the correct Mux Objective-C SDK for your project by cloning our repository and dragging the framework into your Xcode project. The <code>Frameworks</code> folder contains two folders, one for iOS and one for tvOS. Inside these folders, there are 3 additional folders containing different architecture combinations. The <code>fat</code> folder contains a library with all architectures in one. This library cannot be used when compiling for submission to the App Store as it contains the simulator architectures that are not used by any Apple devices. You can use the framework in the <code>release</code> folder when building a release version of your application, or you can run <a href="https://gist.github.com/brett-stover-hs/b25947a125ff7e38e7ca#file-frameworks_blogpost_removal_script_a-sh">a script to strip unneeded architectures</a>. Finally, don&rsquo;t forget to add the correct import statement for your target platform.
</p>

<h2 id="initializing">Initializing</h2>
<pre class="highlight video-element--html"><code><span class="c">&lt;!-- Example html video element --&gt;</span>
<span class="nt">&lt;video</span> <span class="na">id=</span><span class="s">"my-video"</span><span class="nt">&gt;&lt;/video&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="c1">// Initialize mux monitoring</span>
<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">mux</span> <span class="o">!==</span> <span class="s1">'undefined'</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mux</span><span class="p">.</span><span class="nx">monitor</span><span class="p">(</span><span class="s1">'#my-video'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">property_key</span><span class="p">:</span> <span class="s1">'EXAMPLE_PROPERTY_KEY'</span><span class="p">,</span> <span class="c1">// required</span>
      <span class="na">page_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// (see docs) 'watchpage', 'iframe', or leave empty</span>
      <span class="na">viewer_user_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '12345'</span>
      <span class="na">experiment_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'player_test_A'</span>

      <span class="c1">// Player Metadata</span>
      <span class="na">player_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Main Player'</span>
      <span class="na">player_version</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '1.0.0'</span>
      <span class="na">player_init_time</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 1451606400000</span>

      <span class="c1">// Video Metadata (cleared with 'videochange' event)</span>
      <span class="na">video_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd123'</span>
      <span class="na">video_title</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Great Video'</span>
      <span class="na">video_series</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Weekly Great Videos'</span>
      <span class="na">video_producer</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Bob the Producer'</span>
      <span class="na">video_content_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// 'short', 'movie', 'episode', 'clip', 'trailer', or 'event'</span>
      <span class="na">video_language_code</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'en'</span>
      <span class="na">video_variant_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Spanish Hard Subs'</span>
      <span class="na">video_variant_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd1234'</span>
      <span class="na">video_duration</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// in milliseconds, ex: 120000</span>
      <span class="na">video_is_live</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// ex: false or true</span>
      <span class="na">video_encoding_variant</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Variant 1'</span>
      <span class="na">video_cdn</span><span class="p">:</span> <span class="s1">''</span> <span class="c1">// ex: 'Fastly', 'Akamai'</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>

<p class="lang-specific video-element">
  To monitor the performance of a specific video element, call <code>mux.monitor</code>, passing a valid CSS selector for your video element along with options for the SDK. This selector must return only a single element (the <code>&ltvideo&gt</code> element that is tracked), and should be used in any further calls to mux for the same player, such as when <a href="#changing-the-video">changing the video</a>.
</p>
<pre class="highlight videojs"><code><span class="c1">// Record the player init time</span>
<span class="kd">var</span> <span class="nx">player_init_time</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

<span class="c1">// Initialize through player options</span>
<span class="nx">videojs</span><span class="p">(</span><span class="s1">'my-player'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">mux</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">property_key</span><span class="p">:</span> <span class="s1">'EXAMPLE_PROPERTY_KEY'</span><span class="p">,</span> <span class="c1">// required</span>
        <span class="na">page_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// (see docs) 'watchpage', 'iframe', or leave empty</span>
        <span class="na">viewer_user_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '12345'</span>
        <span class="na">experiment_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'player_test_A'</span>

        <span class="c1">// Player Metadata</span>
        <span class="na">player_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Main Player'</span>
        <span class="na">player_version</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '1.0.0'</span>
        <span class="na">player_init_time</span><span class="p">:</span> <span class="nx">player_init_time</span><span class="p">,</span> <span class="c1">// ex: 1451606400000</span>

        <span class="c1">// Video Metadata (cleared with 'videochange' event)</span>
        <span class="na">video_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd123'</span>
        <span class="na">video_title</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Great Video'</span>
        <span class="na">video_series</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Weekly Great Videos'</span>
        <span class="na">video_producer</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Bob the Producer'</span>
        <span class="na">video_content_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// 'short', 'movie', 'episode', 'clip', 'trailer', or 'event'</span>
        <span class="na">video_language_code</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'en'</span>
        <span class="na">video_variant_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Spanish Hard Subs'</span>
        <span class="na">video_variant_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd1234'</span>
        <span class="na">video_duration</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// in milliseconds, ex: 120000</span>
        <span class="na">video_is_live</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// ex: false or true</span>
        <span class="na">video_encoding_variant</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Variant 1'</span>
        <span class="na">video_cdn</span><span class="p">:</span> <span class="s1">''</span> <span class="c1">// ex: 'Fastly', 'Akamai'</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p class="lang-specific objective_c">
  To monitor the performance of an AVPlayer, call either <code>monitorAVPlayerViewController:withPlayerName:playerData:videoData:</code> or <code>monitorAVPlayerLayer:withPlayerName:playerData:videoData:</code>, passing a pointer to your AVPlayer container (either the <code>AVPlayerLayer</code> or <code>AVPlayerViewController</code>) to the SDK. When calling <code>destroyPlayer</code> or <code>videoChangeForPlayer:withVideoData:</code> to <a href="#changing-the-video">change the video</a> the same player name used for the monitor call must be used.
</p>
<pre class="highlight objective_c"><code><span class="c1">// Property and player data that persists until the player is destroyed
</span><span class="n">MUXSDKCustomerPlayerData</span> <span class="o">*</span><span class="n">playerData</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MUXSDKCustomerPlayerData</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithPropertyKey</span><span class="p">:</span><span class="s">@"EXAMPLE_PROPERTY_KEY"</span><span class="p">];</span>
<span class="n">playerData</span><span class="p">.</span><span class="n">viewerUserId</span> <span class="o">=</span> <span class="s">@"1234"</span><span class="p">;</span>
<span class="n">playerData</span><span class="p">.</span><span class="n">experimentName</span> <span class="o">=</span> <span class="s">@"player_test_A"</span><span class="p">;</span>
<span class="n">playerData</span><span class="p">.</span><span class="n">playerName</span> <span class="o">=</span> <span class="s">@"My Main Player"</span><span class="p">;</span>
<span class="n">playerData</span><span class="p">.</span><span class="n">playerVersion</span> <span class="o">=</span> <span class="s">@"1.0.0"</span><span class="p">;</span>

<span class="c1">// Video metadata (cleared with videoChangeForPlayer:withVideoData:)
</span><span class="n">MUXSDKCustomerVideoData</span> <span class="o">*</span><span class="n">videoData</span> <span class="o">=</span> <span class="p">[</span><span class="n">MUXSDKCustomerVideoData</span> <span class="nf">new</span><span class="p">];</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoId</span> <span class="o">=</span> <span class="s">@"abcd123"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoTitle</span> <span class="o">=</span> <span class="s">@"My Great Video"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoSeries</span> <span class="o">=</span> <span class="s">@"Weekly Great Videos"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoProducer</span> <span class="o">=</span> <span class="s">@"Bob the Producer"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoContentType</span> <span class="o">=</span> <span class="s">@"type"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoLanguageCode</span> <span class="o">=</span> <span class="s">@"en"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoVariantName</span> <span class="o">=</span> <span class="s">@"Spanish Hard Subs"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoVariantId</span> <span class="o">=</span> <span class="s">@"abcd1234"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoDuration</span> <span class="o">=</span> <span class="err">@</span><span class="p">(</span><span class="mi">120000</span><span class="p">);</span> <span class="c1">// in millisecons
</span><span class="n">videoData</span><span class="p">.</span><span class="n">videoIsLive</span> <span class="o">=</span> <span class="nb">@NO</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoEncodingVariant</span> <span class="o">=</span> <span class="s">@"Variant 1"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoCdn</span> <span class="o">=</span> <span class="s">@"cdn"</span><span class="p">;</span>

<span class="n">AVPlayerLayer</span> <span class="o">*</span><span class="n">player</span> <span class="o">=</span> <span class="p">[</span><span class="n">AVPlayerLayer</span> <span class="nf">new</span><span class="p">];</span>
<span class="p">[</span><span class="n">MUXSDKStats</span> <span class="nf">monitorAVPlayerViewController</span><span class="p">:</span><span class="n">player</span> <span class="nf">withPlayerName</span><span class="p">:</span><span class="s">@"awesome"</span> <span class="nf">playerData</span><span class="p">:</span><span class="n">playerData</span> <span class="nf">videoData</span><span class="p">:</span><span class="n">videoData</span><span class="p">];</span>
</code></pre>
<pre class="highlight videojs--html"><code><span class="c">&lt;!-- OR in the data-setup attribute of the video.js element --&gt;</span>
<span class="nt">&lt;video</span> <span class="na">id=</span><span class="s">"my-player"</span>
  <span class="na">data-setup=</span><span class="s">'{"plugins": {"mux": {"debug": false, "data": { ... }}}}'</span> <span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/video&gt;</span>
</code></pre>
<pre class="highlight videojs"><code><span class="c1">// OR by calling the plugin directly</span>
<span class="kd">var</span> <span class="nx">player</span> <span class="o">=</span> <span class="nx">videojs</span><span class="p">(</span><span class="s1">'my-player'</span><span class="p">);</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">mux</span><span class="p">({</span>
  <span class="na">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p class="lang-specific videojs">
  Like other Video.js plugins, initialize the videojs-mux plugin by including options in the player plugin options. This can be in the options passed to the <code>videojs</code> function (or the <code>data-setup</code> attribute) or by calling the <code>mux</code> function directly on the player instance.
</p>

<h3 id="sdk-options">SDK Options</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>debug</td>
<td>Put the SDK in debug mode to log operational details</td>
<td>false</td>
</tr>
<tr>
<td>data</td>
<td>User, page, player, and video metadata for the video</td>
<td>{ }</td>
</tr>
</tbody></table>

<p class="lang-specific objective_c">
  In the Objective-C SDKs, <strong>options are provided via the MUXSDKCustomerPlayerData and MUXSDKCustomerVideoData objects</strong>.
</p>

<h3 id="metadata">Metadata</h3>

<p>The data object allows you to provide details about the video and environment that can&rsquo;t be detected automatically or if the video fails to load.</p>

<p>All metadata details except for <code class="prettyprint">property_key</code> are <em>optional</em>, however you&rsquo;ll be able to compare and see more interesting results as you include more details.</p>

<ul>
<li>Video details (prepended by <code class="prettyprint">video_</code>) describe the current video that&rsquo;s playing and are all reset automatically when <a href="#changing-the-video">changing the video</a>. This metadata would come from your internal CMS or video management system.</li>
<li>Player details (prepended by <code class="prettyprint">player_</code>) describe the player configuration that&rsquo;s being used and should be set whenever monitoring is started on a new player. They do not reset when the video is changed.</li>
<li>All other details can be set once per page load, and after being set they will persist between videos and player instances on a page.</li>
</ul>

<p class="lang-specific objective_c">
In the Objective-C SDKs, <strong>names are converted to lowerCamelCase setters and getters per Apple&rsquo;s naming guidelines</strong>. See the <a href="https://github.com/muxinc/stats-sdk-objc/blob/master/Frameworks/iOS/release/MUXSDKStats.framework/Headers/MUXSDKCustomerPlayerData.h">MUXSDKCustomerPlayerData.h</a> and <a href="https://github.com/muxinc/stats-sdk-objc/blob/master/Frameworks/iOS/release/MUXSDKStats.framework/Headers/MUXSDKCustomerVideoData.h">MUXSDKCustomerVideoData.h</a> header files for a complete list of names.
</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>property_key</td>
<td>Your property key from the Mux dashboard</td>
</tr>
<tr>
<td>viewer_user_id</td>
<td>Provide a user ID (if available) to search by in the Mux UI</td>
</tr>
<tr>
<td>page_type</td>
<td>Provide the context of the page for more specific analysis. Values include &lsquo;watchpage&rsquo;, &#39;iframe&rsquo;, or leave empty. <ul><li><strong>watchpage</strong> &mdash; A web page that is dedicated to playing a specific video (for example <a href="https://www.youtube.com/watch?v=WtA-IWdLMN0">youtube.com/watch/ID</a> or <a href="http://www.hulu.com/watch/4183">hulu.com/watch/ID</a>)</li><li><strong>iframe</strong> &mdash; An iframe specifically used to embed a player on different sites/pages</li></ul></td>
</tr>
<tr>
<td>experiment_name</td>
<td>You can use this field to separate views into different experiments, if you would like to filter by this dimension later. This should be a string value, but your account is limited to a total of 10 unique experiment names, so be sure that this value is not generated dynamically or randomly.</td>
</tr>
<tr>
<td>player_name</td>
<td>If you have different configurations or types of players around your site or application you can use player_name to compare them. <strong>This is <em>not</em> the player software (e.g. Video.js), which is tracked automatically by the SDK.</strong></td>
</tr>
<tr>
<td>player_version</td>
<td>As you make changes to your player you can compare how new versions of your player perform by updating this value. <strong>This is <em>not</em> the player software version (e.g. Video.js 5.0.0), which is tracked automatically by the SDK.</strong></td>
</tr>
<tr>
<td>player_init_time</td>
<td>If you are explicitly loading your player in page (perhaps as a response to a user interaction), include the timestamp (milliseconds since Jan 1 1970) when you initialize the player (or for HTML5 video, when right before you add the <code class="prettyprint">&lt;video&gt;</code> element to the DOM) in order to accurately track page load time and player startup time.</td>
</tr>
<tr>
<td>video_id</td>
<td>Your internal ID for the video</td>
</tr>
<tr>
<td>video_title</td>
<td>example: &#39;Awesome Show Episode 1&rsquo;</td>
</tr>
<tr>
<td>video_series</td>
<td>example: &#39;Season 1&rsquo;</td>
</tr>
<tr>
<td>video_variant_name</td>
<td>An optional detail that allows you to monitor issues with the files of specific versions of the content, for example different audio translations or versions with hard-coded/burned-in subtitles.</td>
</tr>
<tr>
<td>video_variant_id</td>
<td>Your internal ID for a video variant</td>
</tr>
<tr>
<td>video_language_code</td>
<td>The audio language of the video, assuming it&rsquo;s unchangeable after playing.</td>
</tr>
<tr>
<td>video_content_type</td>
<td>&#39;short&rsquo;, &#39;movie&rsquo;, &#39;episode&rsquo;, &#39;clip&rsquo;, &#39;trailer&rsquo;, or &#39;event&rsquo;</td>
</tr>
<tr>
<td>video_duration</td>
<td>The length of the video in <strong>milliseconds</strong> [integer]</td>
</tr>
<tr>
<td>video_is_live</td>
<td>Boolean indicating if the video is a live stream or not</td>
</tr>
<tr>
<td>video_producer</td>
<td>The producer of the video title</td>
</tr>
<tr>
<td>video_encoding_variant</td>
<td>An optional detail that allows you to compare different encoding settings.</td>
</tr>
<tr>
<td>video_cdn</td>
<td>An optional detail that allows you to compare different CDNs (assuming the CDN selection is made at page load time).</td>
</tr>
</tbody></table>

<h2 id="changing-the-video">Changing the Video</h2>
<pre class="highlight video-element"><code><span class="c1">// Example of changing the source of a video element</span>
<span class="c1">// Should happen before emitting the videochange event</span>
<span class="kd">var</span> <span class="nx">myVideo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#my-video'</span><span class="p">);</span>
<span class="nx">myVideo</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'nextVideo.mp4'</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">mux</span> <span class="o">!==</span> <span class="s1">'undefined'</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mux</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">'#my-video'</span><span class="p">,</span> <span class="s1">'videochange'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">video_id</span><span class="p">:</span> <span class="s1">'abc345'</span><span class="p">,</span>
    <span class="na">video_title</span><span class="p">:</span> <span class="s1">'My Other Great Video'</span><span class="p">,</span>
    <span class="na">video_series</span><span class="p">:</span> <span class="s1">'Weekly Great Videos'</span><span class="p">,</span>
    <span class="p">...</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight videojs"><code><span class="c1">// Example of changing the source of a Video.js player</span>
<span class="c1">// Should happen before emitting the videochange event</span>
<span class="kd">var</span> <span class="nx">myPlayer</span> <span class="o">=</span> <span class="nx">videojs</span><span class="p">(</span><span class="s1">'my-player'</span><span class="p">);</span>
<span class="nx">myPlayer</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'nextVideo.mp4'</span><span class="p">);</span>

<span class="nx">myPlayer</span><span class="p">.</span><span class="nx">mux</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">'videochange'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">video_id</span><span class="p">:</span> <span class="s1">'abc345'</span><span class="p">,</span>
  <span class="na">video_title</span><span class="p">:</span> <span class="s1">'My Other Great Video'</span><span class="p">,</span>
  <span class="na">video_series</span><span class="p">:</span> <span class="s1">'Weekly Great Videos'</span><span class="p">,</span>
  <span class="p">...</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="c1">// Example of changing the AVPlayerItem
// Should happen before telling MUXSDKStats about the change.
</span><span class="p">[</span><span class="n">player</span> <span class="nf">replaceCurrentItemWithPlayerItem</span><span class="p">:[</span><span class="n">AVPlayerItem</span> <span class="nf">playerItemWithURL</span><span class="p">:</span><span class="s">@"..."</span><span class="p">]];</span>

<span class="n">MUXSDKCustomerVideoData</span> <span class="o">*</span><span class="n">videoData</span> <span class="o">=</span> <span class="p">[</span><span class="n">MUXSDKCustomerVideoData</span> <span class="nf">new</span><span class="p">];</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoId</span> <span class="o">=</span> <span class="s">@"abcd345"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoTitle</span> <span class="o">=</span> <span class="s">@"My Other Great Video"</span><span class="p">;</span>
<span class="n">videoData</span><span class="p">.</span><span class="n">videoSeries</span> <span class="o">=</span> <span class="s">@"Weekly Great Videos"</span><span class="p">;</span>
<span class="p">[</span><span class="n">MUXSDKStats</span> <span class="nf">videoChangeForPlayer</span><span class="p">:</span><span class="s">@"awesome"</span> <span class="nf">withVideoData</span><span class="p">:</span><span class="n">videoData</span><span class="p">];</span>
</code></pre>

<p>When you change to a new video (in the same player) you need to update the information that Mux knows about the current video. Examples of when this is needed are:</p>

<ul>
<li>The player advances to the next video in a playlist</li>
<li>The user selects a different video to play</li>
</ul>

<p><strong>You do not need to change the video info when changing to a different source of the same video content (e.g. different resolution or video format).</strong></p>

<p>It&rsquo;s best to change the video info immediately after telling the player which new source to play.</p>

<p class="lang-specific videojs video-element">
This is done by emitting a <code>videochange</code> event through <code>mux</code>, and when this is emitted it removes all previous video data and resets all metrics for the video view. See <a href="#metadata">Metadata</a> for the list of video details you can provide. You can include any metadata when changing the video but you should only need to update the values that start with <code>video_</code>.
</p>

<p class="lang-specific obj-c">
This is done by calling <code>videoChangeForPlayer:withVideoData:</code> which will remove all previous video data and reset all metrics for the video view. See <a href="#metadata">Metadata</a> for the list of video details you can provide. You can include any metadata when changing the video but you should only need to update the values that start with <code>video_</code>.
</p>

<!-- hackety hack hack to make left nav work better -->

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="video-element">Video Element</a>
                <a href="#" data-language-name="videojs">Video.js</a>
                <a href="#" data-language-name="objective_c">Objective-C</a>
          </div>
      </div>
    </div>
  </body>
</html>
<!-- .gsub(/\.|\s/, '-').downcase -->
