<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" href="images/favicon.ico">
    <title>Mux API Docs</title>

    <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;video-element&quot;,&quot;videojs&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Mux Logo" class="nav-logo" />
      <div style="color:#fff; text-align: center;">DOCUMENTATION</div>

        <div class="lang-selector">
              <a href="#" data-language-name="video-element">Video Element</a>
              <a href="#" data-language-name="videojs">Video.js</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://app.mux.io'>Sign Up for Mux</a></li>
            <li>Documentation Powered by <a href='https://github.com/tripit/slate'>Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="sdk-integration">SDK Integration</h1>

<p>While Mux is still in early development we support two browser-based video players: <strong>Video.js</strong> and the bare <strong>HTML5 video element</strong>. More players and platforms, including other desktop players, native SDKs for iOS and Android, and SDKs for OTT platforms are coming soon.</p>

<p>Pick which SDK you want to use from the tabs on the right (or in the nav on mobile).</p>

<h2 id="including-the-sdk">Including the SDK</h2>
<pre class="highlight video-element--html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//src.litix.io/core/1/mux.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p class="lang-specific video-element">
  Include the Mux JavaScript SDK on every page of your site/app that includes video. Use the Mux-hosted version of the script to receive automatic updates (the API will not change within major versions).
</p>
<pre class="highlight videojs--html"><code><span class="c">&lt;!-- Include videojs-mux after Video.js --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"path/to/video.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//src.litix.io/videojs/1/videojs-mux.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p class="lang-specific videojs">
  Include the videojs-mux plugin after Video.js in the page (or wherever your other Video.js plugins are loaded).
</p>

<h2 id="initializing">Initializing</h2>
<pre class="highlight video-element--html"><code><span class="c">&lt;!-- Example html video element --&gt;</span>
<span class="nt">&lt;video</span> <span class="na">id=</span><span class="s">"my-video"</span><span class="nt">&gt;&lt;/video&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="c1">// Initialize mux monitoring</span>
<span class="nx">mux</span><span class="p">.</span><span class="nx">monitor</span><span class="p">(</span><span class="s1">'#my-video'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">property_key</span><span class="p">:</span> <span class="s1">'EXAMPLE_PROPERTY_KEY'</span><span class="p">,</span> <span class="c1">// required</span>
    <span class="na">viewer_user_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '12345'</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// (see docs) 'watchpage', 'iframe', or leave empty</span>

    <span class="c1">// Player Metadata</span>
    <span class="na">player_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Main Player'</span>
    <span class="na">player_version</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '1.0.0'</span>

    <span class="c1">// Video Metadata (cleared with changeVideo)</span>
    <span class="na">video_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd123'</span>
    <span class="na">video_title</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Great Video'</span>
    <span class="na">video_series</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Weekly Great Videos'</span>
    <span class="na">video_producer</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Bob the Producer'</span>
    <span class="na">video_content_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// 'short', 'movie', 'episode', 'clip', 'trailer', or 'event'</span>
    <span class="na">video_language</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'en'</span>
    <span class="na">video_variant_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Spanish Hard Subs'</span>
    <span class="na">video_variant_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd1234'</span>
    <span class="na">video_duration</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// in seconds, ex: 120.0</span>
    <span class="na">video_stream_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// 'live' or 'on-demand'</span>
    <span class="na">video_encoding_variant</span><span class="p">:</span> <span class="s1">''</span> <span class="c1">// ex: 'Variant 1'</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>

<p class="lang-specific video-element">
  Monitor the performance of a specific video element by passing the ID of the video element (or another CSS selector) to the `mux.monitor` function.
</p>
<pre class="highlight videojs"><code><span class="c1">// Initialize through player options</span>
<span class="nx">videojs</span><span class="p">(</span><span class="s1">'my-player'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">mux</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">property_key</span><span class="p">:</span> <span class="s1">'EXAMPLE_PROPERTY_KEY'</span><span class="p">,</span> <span class="c1">// required</span>
        <span class="na">viewer_user_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '12345'</span>
        <span class="na">page_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// (see docs) 'watchpage', 'iframe', or leave empty</span>

        <span class="c1">// Player Metadata</span>
        <span class="na">player_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Main Player'</span>
        <span class="na">player_version</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: '1.0.0'</span>

        <span class="c1">// Video Metadata (cleared with changeVideo)</span>
        <span class="na">video_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd123'</span>
        <span class="na">video_title</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'My Great Video'</span>
        <span class="na">video_series</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Weekly Great Videos'</span>
        <span class="na">video_producer</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Bob the Producer'</span>
        <span class="na">video_content_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// 'short', 'movie', 'episode', 'clip', 'trailer', or 'event'</span>
        <span class="na">video_language</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'en'</span>
        <span class="na">video_variant_name</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'Spanish Hard Subs'</span>
        <span class="na">video_variant_id</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ex: 'abcd1234'</span>
        <span class="na">video_duration</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// in seconds, ex: 120.0</span>
        <span class="na">video_stream_type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// 'live' or 'on-demand'</span>
        <span class="na">video_encoding_variant</span><span class="p">:</span> <span class="s1">''</span> <span class="c1">// ex: 'Variant 1'</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight videojs--html"><code><span class="c">&lt;!-- OR in the data-setup attribute of the video.js element --&gt;</span>
<span class="nt">&lt;video</span> <span class="na">id=</span><span class="s">"my-player"</span>
  <span class="na">data-setup=</span><span class="s">'{"plugins": {"mux": {"debug": false, "data": {}}}}'</span>
  <span class="nt">&gt;</span>
...
<span class="nt">&lt;/video&gt;</span>
</code></pre>
<pre class="highlight videojs"><code><span class="c1">// OR by calling the plugin directly</span>
<span class="kd">var</span> <span class="nx">player</span> <span class="o">=</span> <span class="nx">videojs</span><span class="p">(</span><span class="s1">'my-player'</span><span class="p">);</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">mux</span><span class="p">({</span>
  <span class="na">debug</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">});</span>
</code></pre>

<p class="lang-specific videojs">
  Like other Video.js plugins, initialize the videojs-mux plugin by including  options in the player plugin options. This can be in the options passed to the `videojs` function (or the `data-setup` attribute) or by calling the `mux` function directly on the player instance.
</p>

<h3 id="sdk-options">SDK Options</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td>debug</td>
<td>Put the SDK in debug mode to log operational details</td>
<td>false</td>
</tr>
</tbody></table>

<h3 id="metadata">Metadata</h3>

<p>The data object allows you to provide details about the video and environment that can&rsquo;t be detected automatically or if the video fails to load.</p>

<p>All metadata details except for <code class="prettyprint">property_key</code> are <em>optional</em>, however you&rsquo;ll be able to compare and see more interesting results as you include more details.</p>

<ul>
<li>Video details (prepended by <code class="prettyprint">video_</code>) describe the current video that&rsquo;s playing and are all reset automatically when <a href="#changing-the-video">changing the video</a></li>
<li>Player details (prepended by <code class="prettyprint">player_</code>) describe the player configuration that&rsquo;s being used and should be set each time a new player is instantiated. They do not reset when the video is changed.</li>
<li>All other details can be set once per page load, and after being set they will persist between videos and player instances on a page.</li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>property_key</td>
<td>Your property key from the Mux dashboard</td>
</tr>
<tr>
<td>viewer_user_id</td>
<td>Provide a user ID (if available) to search by in the Mux UI</td>
</tr>
<tr>
<td>page_type</td>
<td>Provide the context of the page for more specific analysis. Values include &lsquo;watchpage&rsquo;, &#39;iframe&rsquo;, or leave empty. <ul><li><strong>watchpage</strong> &mdash; A web page that is dedicated to playing a specific video (for example <a href="https://www.youtube.com/watch?v=WtA-IWdLMN0">youtube.com/watch/ID</a> or <a href="http://www.hulu.com/watch/4183">hulu.com/watch/ID</a>)</li><li><strong>iframe</strong> &mdash; An iframe specifically used to embed a player on different sites/pages</li></ul></td>
</tr>
<tr>
<td>player_name</td>
<td>If you have different configurations or types of players around your site or application you can use player_name to compare them. <strong>This is <em>not</em> the player software (e.g. Video.js), which is tracked automatically by the SDK.</strong></td>
</tr>
<tr>
<td>player_version</td>
<td>As you make changes to your player you can compare how new versions of your player perform by updating this value. <strong>This is <em>not</em> the player software version (e.g. Video.js 5.0.0), which is tracked automatically by the SDK.</strong></td>
</tr>
<tr>
<td>video_id</td>
<td>Your internal ID for the video</td>
</tr>
<tr>
<td>video_title</td>
<td>example: &#39;Awesome Show Episode 1&rsquo;</td>
</tr>
<tr>
<td>video_series</td>
<td>example: &#39;Season 1&rsquo;</td>
</tr>
<tr>
<td>video_variant_name</td>
<td>An optional detail that allows you to monitor issues with the files of specific versions of the content, for example different audio translations or versions with hard-coded/burned-in subtitles.</td>
</tr>
<tr>
<td>video_variant_id</td>
<td>Your internal ID for a video variant</td>
</tr>
<tr>
<td>video_language</td>
<td>The audio language of the video, assuming it&rsquo;s unchangeable after playing.</td>
</tr>
<tr>
<td>video_content_type</td>
<td>&#39;short&rsquo;, &#39;movie&rsquo;, &#39;episode&rsquo;, &#39;clip&rsquo;, &#39;trailer&rsquo;, or &#39;event&rsquo;</td>
</tr>
<tr>
<td>video_duration</td>
<td>The length of the video in <strong>seconds</strong> [float]</td>
</tr>
<tr>
<td>video_stream_type</td>
<td>&#39;live&rsquo; or &#39;on-demand&rsquo;</td>
</tr>
<tr>
<td>video_producer</td>
<td>The producer of the video title</td>
</tr>
<tr>
<td>video_encoding_variant</td>
<td>An optional detail that allows you to compare different encoding settings.</td>
</tr>
</tbody></table>

<h2 id="changing-the-video">Changing the Video</h2>
<pre class="highlight video-element"><code><span class="c1">// Example of changing the source of a video element</span>
<span class="c1">// Should happen before changeVideo is called</span>
<span class="kd">var</span> <span class="nx">myVideo</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#my-video'</span><span class="p">);</span>
<span class="nx">myVideo</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'nextVideo.mp4'</span><span class="p">;</span>

<span class="nx">mux</span><span class="p">.</span><span class="nx">monitor</span><span class="p">(</span><span class="s1">'#my-video'</span><span class="p">).</span><span class="nx">changeVideo</span><span class="p">({</span>
  <span class="na">video_id</span><span class="p">:</span> <span class="s1">'abc345'</span><span class="p">,</span>
  <span class="na">video_title</span><span class="p">:</span> <span class="s1">'My Other Great Video'</span><span class="p">,</span>
  <span class="na">video_series</span><span class="p">:</span> <span class="s1">'Weekly Great Videos'</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight videojs"><code><span class="c1">// Example of changing the source of a Video.js player</span>
<span class="c1">// Should happen before mux.changeVideo is called</span>
<span class="kd">var</span> <span class="nx">myPlayer</span> <span class="o">=</span> <span class="nx">videojs</span><span class="p">(</span><span class="s1">'my-player'</span><span class="p">);</span>
<span class="nx">myPlayer</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'nextVideo.mp4'</span><span class="p">);</span>

<span class="nx">myPlayer</span><span class="p">.</span><span class="nx">mux</span><span class="p">.</span><span class="nx">changeVideo</span><span class="p">({</span>
  <span class="na">video_id</span><span class="p">:</span> <span class="s1">'abc345'</span><span class="p">,</span>
  <span class="na">video_title</span><span class="p">:</span> <span class="s1">'My Other Great Video'</span><span class="p">,</span>
  <span class="na">video_series</span><span class="p">:</span> <span class="s1">'Weekly Great Videos'</span>
<span class="p">});</span>
</code></pre>

<p>When you change to a new video (in the same player) you need to update the information that Mux knows about the current video. Examples of when this is needed are:</p>

<ul>
<li>The player advances to the next video in a playlist</li>
<li>The user selects a different video to play</li>
</ul>

<p><strong>You do not need to change the video info when changing to a different source of the same video content (e.g. different resolution or video format).</strong></p>

<p>It&rsquo;s best to change the video info immediately after telling the player which new source to play.</p>

<p>When <code class="prettyprint">changeVideo</code> is called it removes all previous video data and resets all metrics for the video view. See <a href="#metadata">Metadata</a> for the list of video details you can provide. You can include any metadata when changing the video but you only need to update the values that start with <code class="prettyprint">video_</code>.</p>

<!-- hackety hack hack to make left nav work better -->

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="video-element">Video Element</a>
                <a href="#" data-language-name="videojs">Video.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
<!-- .gsub(/\.|\s/, '-').downcase -->
